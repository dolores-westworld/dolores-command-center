providers:
  opus:
    enabled: true
    access_mode: "api"          # api | ui
    api:
      env_var: "OPUS_API_KEY"   # no secrets in repo
      endpoint: "OWNER_REQUIRED"

  kimi_2_5:
    enabled: true
    access_mode: "api"          # api | ui
    api:
      env_var: "KIMI_API_KEY"   # no secrets in repo
      endpoint: "OWNER_REQUIRED"

  codex:
    enabled: true
    access_mode: "cli"          # cli | ui

secrets:
  env_file: "/Users/macadmin/.secrets/clawdbot.env"   # chmod 600

routing:
  - task: "governance_judgment"
    primary: "opus"
    fallback: ["kimi_2_5"]
  - task: "content_summarization"
    primary: "kimi_2_5"
    fallback: ["opus"]
  - task: "implementation_patch"
    primary: "codex"
    fallback: ["kimi_2_5"]

decision_logging:
  enabled: true
  decision_log_path: "/Users/macadmin/clawdbot/work/decisions.log"

stop_conditions:
  no_retries: true
  no_scope_expansion: true
  if_provider_unavailable: "stop_and_escalate"
  if_missing_api_key: "stop_and_escalate"
